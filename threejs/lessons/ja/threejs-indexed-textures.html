<!DOCTYPE html><!-- this file is auto-generated from threejs/lessons/ja/threejs-indexed-textures.md. Do not edited directly --><!--
Copyright 2018, Google Inc.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of Google Inc. nor the names of their
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
--><html lang="ja"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼">
<meta name="keywords" content="webgl graphics three.js">
<meta name="thumbnail" content="https://threejsfundamentals.org/threejs/lessons/screenshots/threejs-indexed-textures_ja.jpg">

<meta property="og:title" content="åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼">
<meta property="og:type" content="website">
<meta property="og:image" content="https://threejsfundamentals.org/threejs/lessons/screenshots/threejs-indexed-textures_ja.jpg">
<meta property="og:description" content="åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼">
<meta property="og:url" content="https://threejsfundamentals.org/threejs/lessons/ja/threejs-indexed-textures.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@greggman">
<meta name="twitter:creator" content="@greggman">
<meta name="twitter:domain" content="threejsfundamentals.org">
<meta name="twitter:title" content="åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼">
<meta name="twitter:url" content="https://threejsfundamentals.org/threejs/lessons/ja/threejs-indexed-textures.html">
<meta name="twitter:description" content="åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼">
<meta name="twitter:image:src" content="https://threejsfundamentals.org/threejs/lessons/screenshots/threejs-indexed-textures_ja.jpg">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/threejs/lessons/threejs-indexed-textures.html">
  <link rel="alternate" hreflang="fr" href="https://webglfundamentals.org/threejs/lessons/fr/threejs-indexed-textures.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/threejs/lessons/ja/threejs-indexed-textures.html">
  <link rel="alternate" hreflang="kr" href="https://webglfundamentals.org/threejs/lessons/kr/threejs-indexed-textures.html">
  <link rel="alternate" hreflang="ru" href="https://webglfundamentals.org/threejs/lessons/ru/threejs-indexed-textures.html">
  <link rel="alternate" hreflang="zh_cn" href="https://webglfundamentals.org/threejs/lessons/zh_cn/threejs-indexed-textures.html">




<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://threejsfundamentals.org/#website",
      "url":"https://threejsfundamentals.org/",
      "name":"ThreejsFundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://threejsfundamentals.org/threejs/lessons/ja/threejs-indexed-textures.html#primaryimage",
      "url":"https://threejsfundamentals.org/threejs/lessons/screenshots/threejs-indexed-textures_ja.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://threejsfundamentals.org/threejs/lessons/ja/threejs-indexed-textures.html#webpage",
      "url":"https://threejsfundamentals.org/threejs/lessons/ja/threejs-indexed-textures.html",
      "inLanguage":"ja",
      "name":"åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼",
      "keywords":"webgl graphics three.js programming",
      "isPartOf":{
        "@id":"https://threejsfundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://threejsfundamentals.org/threejs/lessons/ja/threejs-indexed-textures.html#primaryimage"
      }
    }
  ]
}
</script>

<title>åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼</title>
<link href="/threejs/lessons/resources/threejsfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="apple-touch-icon" href="/threejs/lessons/resources/threejsfundamentals-icon.png">
<link rel="icon" href="/threejs/lessons/resources/threejsfundamentals-icon.png">

<link rel="stylesheet" href="/threejs/lessons/lang.css">
<link rel="stylesheet" href="/threejs/lessons/resources/lesson.css">
</head>
<body>
<div class="threejs_navbar">
  <div>
    <select class="language">
    <option value="/threejs/lessons/threejs-indexed-textures.html">English
    </option><option value="/threejs/lessons/fr/threejs-indexed-textures.html">FranÃ§ais
    </option><option value="/threejs/lessons/ja/threejs-indexed-textures.html" selected="">æ—¥æœ¬èª
    </option><option value="/threejs/lessons/kr/threejs-indexed-textures.html">í•œêµ­ì–´
    </option><option value="/threejs/lessons/ru/threejs-indexed-textures.html">Ğ ÑƒÑÑĞºĞ¸Ğ¹
    </option><option value="/threejs/lessons/zh_cn/threejs-indexed-textures.html">ä¸­æ–‡
</option></select>


    <a href="#toc">ç›®æ¬¡</a>
  </div>
</div>
<div class="threejs_header">
  <h1><a href="/threejs/lessons/ja/">threejsfundamentals.org</a></h1>
<style>
#forkongithub>div {
    background: #000;
    color: #fff;
    font-family: arial,sans-serif;
    text-align: center;
    font-weight: bold;
    padding: 5px 40px;
    font-size: 0.9rem;
    line-height: 1.3rem;
    position: relative;
    transition: 0.5s;
    display: block;
    width: 400px;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(200px) rotate(45deg) translate(10px,70px);
    box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
    pointer-events: auto;
}
#forkongithub a {
  text-decoration: none;
  color: #fff;
}
#forkongithub>div:hover {
    background: #c11;
    color: #fff;
}
#forkongithub .contributors {
  font-size: 0.75rem;
  background: rgba(255,255,255,0.2);
  line-height: 1.2;
  padding: 0.1em;
}
#forkongithub>div::before,#forkongithub>div::after {
    content: "";
    width: 100%;
    display: block;
    position: absolute;
    top: 1px;
    left: 0;
    height: 1px;
    background: #fff;
}
#forkongithub>div::after {
    bottom: 1px;
    top: auto;
}

#forkongithub{
    z-index: 9999;
    /* needed for firefox */
    overflow: hidden;
    width: 300px;
    height: 300px;
    position: absolute;
    right: 0;
    top: 0;
    pointer-events: none;
}
#forkongithub svg{
  width: 1em;
  height: 1em;
  vertical-align: middle;
}
#forkongithub img {
  width: 1em;
  height: 1em;
  border-radius: 100%;
  vertical-align: middle;
}

@media (max-width: 900px) {
    #forkongithub>div {
        line-height: 1.2rem;
    }
}
@media (max-width: 700px) {
  #forkongithub {
    display: none;
  }
}
@media (max-width: 410px) {
    #forkongithub>div {
        font-size: 0.7rem;
        transform: translateX(150px) rotate(45deg) translate(20px,40px);
    }
}

</style>
<div id="forkongithub"><div><div><a href="https://github.com/gfxfundamentals/threejsfundamentals">Fix, Fork, Contribute <!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904" style="fill:white;"></path>
    </g>
</svg>
</a></div></div></div>

</div>


<div class="container">
  <div class="lesson-title">
    <h1>åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>ã“ã®è¨˜äº‹ã¯<a href="threejs-align-html-elements-to-3d.html">Three.jsã§HTMLè¦ç´ ã‚’3Dã«æƒãˆã‚‹</a>ã®ç¶šãã§ã™ã€‚
ã¾ã èª­ã‚“ã§ã„ãªã„äººã¯ãã¡ã‚‰ã‹ã‚‰èª­ã‚“ã§ã¿ã¦ä¸‹ã•ã„ã€‚</p>
<p>Three.jsã‚’ä½¿ã†æ™‚ã«ã¯ã€ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªè§£æ±ºç­–ã‚’è€ƒãˆãªã‘ã‚Œã°ãªã‚‰ãªã„äº‹ã‚‚ã‚ã‚Šã¾ã™ã€‚
ã“ã‚ŒãŒç´ æ™´ã‚‰ã—ã„è§£æ±ºç­–ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ãŒã€å…±æœ‰ã—ã¦ä½•ã‹è§£æ±ºç­–ã®ææ¡ˆãŒã‚ã‚‹ã‹è¦‹ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚</p>
<p><a href="threejs-align-html-elements-to-3d.html">å‰å›ã®è¨˜äº‹</a>ã§ã¯3Dã®åœ°çƒå„€ã®å‘¨ã‚Šã«å›½åã‚’è¡¨ç¤ºã—ã¾ã—ãŸã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å›½ã‚’é¸æŠã•ã›ã¦ã€ãã®å›½ã®é¸æŠå†…å®¹ã‚’è¡¨ç¤ºã•ã›ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°è‰¯ã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<p>æœ€åˆã«æ€ã„ã¤ãã®ã¯å›½ã”ã¨ã«ã‚¸ã‚ªãƒ¡ãƒˆãƒªã‚’ç”Ÿæˆã™ã‚‹äº‹ã§ã™ã€‚
ä»¥å‰å–ã‚Šä¸Šã’ãŸ<a href="threejs-picking.html">ãƒ”ãƒƒã‚­ãƒ³ã‚°ã‚’ä½¿ã£ãŸè§£æ±ºç­–</a>ãŒã‚ã‚Šã¾ã™ã€‚
å›½ã”ã¨ã«3Dã‚¸ã‚ªãƒ¡ãƒˆãƒªã‚’ä½œã‚Šã¾ã™ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå›½ã®ãƒ¡ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã©ã®å›½ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã®ã‹åˆ†ã‹ã‚Šã¾ã™ã€‚</p>
<p>ã“ã®è§£æ±ºç­–ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«<a href="threejs-align-html-elements-to-3d.html">å‰å›ã®è¨˜äº‹</a>ã®ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ç”Ÿæˆã«ä½¿ã£ãŸåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã€å…¨ã¦ã®å›½ã®3Dãƒ¡ãƒƒã‚·ãƒ¥ã‚’ç”Ÿæˆã—ã¦ã¿ã¾ã—ãŸã€‚
ãã®çµæœã€15.5MBã®ãƒã‚¤ãƒŠãƒªGLTF(.glb)ãƒ•ã‚¡ã‚¤ãƒ«ãŒã§ãã¾ã—ãŸã€‚
15.5MBã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã›ã‚‹ã®ã¯ã€ç§ã«ã¯ã‚„ã‚Šã™ãã®ã‚ˆã†ã«æ€ãˆã¾ã™ã€‚</p>
<p>ãƒ‡ãƒ¼ã‚¿ã‚’åœ§ç¸®ã™ã‚‹æ–¹æ³•ã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚
1ã¤ç›®ã¯ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã®è§£åƒåº¦ã‚’ä¸‹ã’ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’é©ç”¨ã™ã‚‹äº‹ã§ã™ã€‚
ãã®è§£æ±ºç­–ã‚’è¿½æ±‚ã™ã‚‹æ™‚é–“ã‚’å‰²ã„ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚
ã‚¢ãƒ¡ãƒªã‚«ã®å›½å¢ƒã«ã¨ã£ã¦ã¯å¤§å‹åˆ©ã§ã—ã‚‡ã†ã­ã€‚
ã‚«ãƒŠãƒ€ã®å›½å¢ƒã¯ãŠãã‚‰ãã‚‚ã£ã¨å°‘ãªã„ã§ã™ã€‚</p>
<p>åˆ¥ã®è§£æ±ºç­–ã¨ã—ã¦ã¯ã€å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿åœ§ç¸®ã ã‘ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åœ§ç¸®ã™ã‚‹ã¨11MBã«ãªã‚Šã¾ã—ãŸã€‚
30ï¼…æ¸›ã§ã™ãŒã€é–“é•ã„ãªãç‰©è¶³ã‚Šãªã„ã§ã™ã€‚</p>
<p>å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’32ãƒ“ãƒƒãƒˆã®floatå€¤ã§ã¯ãªãã€16ãƒ“ãƒƒãƒˆã®ç¯„å›²å†…ã®å€¤ã¨ã—ã¦æ ¼ç´ã§ãã¾ã™ã€‚
ã‚‚ã—ãã¯<a href="https://google.github.io/draco/">draco compression</a>ã®ã‚ˆã†ãªã‚‚ã®ã‚’ä½¿ã†äº‹ã‚‚ã§ãã‚‹ã—ã€ãã‚Œã ã‘ã§å……åˆ†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
ç§ã¯ç¢ºèªã—ã¦ãªã„ã§ã™ãŒã€ãœã²ã”è‡ªèº«ã§ç¢ºèªã—ã¦çµæœãŒã©ã†ãªã£ãŸã‹æ•™ãˆã¦ä¸‹ã•ã„ğŸ˜…</p>
<p>ç§ã®å ´åˆã¯<a href="threejs-picking.html">ãƒ”ãƒƒã‚­ãƒ³ã‚°ã®è¨˜äº‹</a>ã®æœ€å¾Œã«å–ã‚Šä¸Šã’ãŸ<a href="threejs-picking.html">GPUãƒ”ãƒƒã‚­ãƒ³ã‚°ã®è§£æ±ºç­–</a>ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
ã“ã®è§£æ±ºç­–ã§ã¯ã€ãƒ¡ãƒƒã‚·ãƒ¥ã®IDã‚’è¡¨ã™ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªã‚«ãƒ©ãƒ¼ã§å…¨ã¦ã®ãƒ¡ãƒƒã‚·ãƒ¥ã‚’æç”»ã—ã¾ã—ãŸã€‚
å…¨ã¦ã®ãƒ¡ãƒƒã‚·ãƒ¥ã‚’æç”»ã—ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚«ãƒ©ãƒ¼ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚</p>
<p>ãã“ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¾—ã¦ã€å›½ã®é…åˆ—ã®ä¸­ã§ãã‚Œãã‚Œã®å›½ã®ã‚«ãƒ©ãƒ¼ãŒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç•ªå·ã«ãªã‚Šã€å›½ã®åœ°å›³ã‚’äº‹å‰ã«ç”Ÿæˆã§ãã¾ã—ãŸã€‚
ãã†ã™ã‚Œã°ã€GPUãƒ”ãƒƒã‚­ãƒ³ã‚°æŠ€è¡“ã¨ä¼¼ãŸã‚ˆã†ã«ä½¿ã†äº‹ãŒã§ãã¾ã™ã€‚
ã“ã®åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ†ã‚¯ã‚¹ãƒãƒ£ï¼‰ã‚’ä½¿ã£ã¦åœ°çƒå„€ã‚’ç”»é¢å¤–ã«æç”»ã—ã¾ã™ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¯ãƒªãƒƒã‚¯ã—ãŸãƒ”ã‚¯ã‚»ãƒ«ã®ã‚«ãƒ©ãƒ¼ã‚’è¦‹ã‚‹ã¨å›½ã®IDãŒåˆ†ã‹ã‚Šã¾ã™ã€‚</p>
<p>ãã“ã§ã“ã®ã‚ˆã†ãªãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ç”Ÿæˆã™ã‚‹<a href="https://github.com/gfxfundamentals/threejsfundamentals/blob/master/threejs/lessons/tools/geo-picking/">ã‚³ãƒ¼ãƒ‰</a>ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚</p>
<div class="threejs_center"><img src="../../resources/data/world/country-index-texture.png" style="width: 700px;"></div>

<p>æ³¨ï¼šã“ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã¯<a href="http://thematicmapping.org/downloads/world_borders.php">ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ</a>ã‹ã‚‰ã®ã‚‚ã®ã§<a href="http://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã™ã€‚</p>
<p>ãŸã£ãŸã®217KBã«ãªã‚Šã€å›½ã®ãƒ¡ãƒƒã‚·ãƒ¥ã®14MBã‚ˆã‚Šãšã£ã¨è‰¯ã„ã§ã™ã€‚
è§£åƒåº¦ã‚’ä¸‹ã’ã‚‹äº‹ã‚‚ã§ããã†ã§ã™ãŒã€ä»Šã®æ‰€ã¯217KBã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚</p>
<p>ã“ã‚Œã‚’ä½¿ã„å›½ã‚’ãƒ”ãƒƒã‚­ãƒ³ã‚°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<p><a href="threejs-picking.html">GPUãƒ”ãƒƒã‚­ãƒ³ã‚°ä¾‹</a>ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã™ã‚‹ã¨ã€ãƒ”ãƒƒã‚­ãƒ³ã‚°ã‚·ãƒ¼ãƒ³ãŒå¿…è¦ã§ã™ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">const pickingScene = new THREE.Scene();
pickingScene.background = new THREE.Color(0);
</pre>
<p>ãã—ã¦ã€ãƒ”ãƒƒã‚­ãƒ³ã‚°ã‚·ãƒ¼ãƒ³ã«åœ§ç¸®ã‚¹ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®åœ°çƒå„€ã®è¿½åŠ ãŒå¿…è¦ã§ã™ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">{
  const loader = new THREE.TextureLoader();
  const geometry = new THREE.SphereBufferGeometry(1, 64, 32);

+  const indexTexture = loader.load('resources/data/world/country-index-texture.png', render);
+  indexTexture.minFilter = THREE.NearestFilter;
+  indexTexture.magFilter = THREE.NearestFilter;
+
+  const pickingMaterial = new THREE.MeshBasicMaterial({map: indexTexture});
+  pickingScene.add(new THREE.Mesh(geometry, pickingMaterial));

  const texture = loader.load('resources/data/world/country-outlines-4k.png', render);
  const material = new THREE.MeshBasicMaterial({map: texture});
  scene.add(new THREE.Mesh(geometry, material));
}
</pre>
<p>å‰ã«ä½¿ã£ãŸ <code class="notranslate" translate="no">GPUPickingHelper</code> ã‚¯ãƒ©ã‚¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ã‚‡ã†ã€‚
å°‘ã—å¤‰æ›´ã—ã¾ã—ãŸã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">class GPUPickHelper {
  constructor() {
    // create a 1x1 pixel render target
    this.pickingTexture = new THREE.WebGLRenderTarget(1, 1);
    this.pixelBuffer = new Uint8Array(4);
-    this.pickedObject = null;
-    this.pickedObjectSavedColor = 0;
  }
  pick(cssPosition, scene, camera) {
    const {pickingTexture, pixelBuffer} = this;

    // set the view offset to represent just a single pixel under the mouse
    const pixelRatio = renderer.getPixelRatio();
    camera.setViewOffset(
        renderer.getContext().drawingBufferWidth,   // full width
        renderer.getContext().drawingBufferHeight,  // full top
        cssPosition.x * pixelRatio | 0,             // rect x
        cssPosition.y * pixelRatio | 0,             // rect y
        1,                                          // rect width
        1,                                          // rect height
    );
    // render the scene
    renderer.setRenderTarget(pickingTexture);
    renderer.render(scene, camera);
    renderer.setRenderTarget(null);
    // clear the view offset so rendering returns to normal
    camera.clearViewOffset();
    //read the pixel
    renderer.readRenderTargetPixels(
        pickingTexture,
        0,   // x
        0,   // y
        1,   // width
        1,   // height
        pixelBuffer);

+    const id =
+        (pixelBuffer[0] &lt;&lt; 16) |
+        (pixelBuffer[1] &lt;&lt;  8) |
+        (pixelBuffer[2] &lt;&lt;  0);
+
+    return id;
-    const id =
-        (pixelBuffer[0] &lt;&lt; 16) |
-        (pixelBuffer[1] &lt;&lt;  8) |
-        (pixelBuffer[2]      );
-    const intersectedObject = idToObject[id];
-    if (intersectedObject) {
-      // pick the first object. It's the closest one
-      this.pickedObject = intersectedObject;
-      // save its color
-      this.pickedObjectSavedColor = this.pickedObject.material.emissive.getHex();
-      // set its emissive color to flashing red/yellow
-      this.pickedObject.material.emissive.setHex((time * 8) % 2 &gt; 1 ? 0xFFFF00 : 0xFF0000);
-    }
  }
}
</pre>
<p>ã“ã‚Œã§å›½ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">const pickHelper = new GPUPickHelper();

function getCanvasRelativePosition(event) {
  const rect = canvas.getBoundingClientRect();
  return {
    x: (event.clientX - rect.left) * canvas.width  / rect.width,
    y: (event.clientY - rect.top ) * canvas.height / rect.height,
  };
}

function pickCountry(event) {
  // exit if we have not loaded the data yet
  if (!countryInfos) {
    return;
  }

  const position = getCanvasRelativePosition(event);
  const id = pickHelper.pick(position, pickingScene, camera);
  if (id &gt; 0) {
    // we clicked a country. Toggle its 'selected' property
    const countryInfo = countryInfos[id - 1];
    const selected = !countryInfo.selected;
    // if we're selecting this country and modifiers are not
    // pressed unselect everything else.
    if (selected &amp;&amp; !event.shiftKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.metaKey) {
      unselectAllCountries();
    }
    numCountriesSelected += selected ? 1 : -1;
    countryInfo.selected = selected;
  } else if (numCountriesSelected) {
    // the ocean or sky was clicked
    unselectAllCountries();
  }
  requestRenderIfNotRequested();
}

function unselectAllCountries() {
  numCountriesSelected = 0;
  countryInfos.forEach((countryInfo) =&gt; {
    countryInfo.selected = false;
  });
}

canvas.addEventListener('mouseup', pickCountry);

let lastTouch;
canvas.addEventListener('touchstart', (event) =&gt; {
  // prevent the window from scrolling
  event.preventDefault();
  lastTouch = event.touches[0];
}, {passive: false});
canvas.addEventListener('touchmove', (event) =&gt; {
  lastTouch = event.touches[0];
});
canvas.addEventListener('touchend', () =&gt; {
  pickCountry(lastTouch);
});
</pre>
<p>ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€å›½ã®é…åˆ—ã« <code class="notranslate" translate="no">selected</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®š/è§£é™¤ã—ã¦ã„ã¾ã™ã€‚
<code class="notranslate" translate="no">Shift</code> ã‚„ <code class="notranslate" translate="no">ctrl</code>ã€<code class="notranslate" translate="no">cmd</code> ã‚’æŠ¼ã™ã¨è¤‡æ•°ã®å›½ã‚’é¸æŠã§ãã¾ã™ã€‚</p>
<p>æ®‹ä½œæ¥­ã¯é¸æŠã—ãŸå›½ã‚’è¡¨ç¤ºã•ã›ã‚‹ã ã‘ã§ã™ã€‚
ãƒ©ãƒ™ãƒ«ã‚’æ›´æ–°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">function updateLabels() {
  // exit if we have not loaded the data yet
  if (!countryInfos) {
    return;
  }

  const large = settings.minArea * settings.minArea;
  // get a matrix that represents a relative orientation of the camera
  normalMatrix.getNormalMatrix(camera.matrixWorldInverse);
  // get the camera's position
  camera.getWorldPosition(cameraPosition);
  for (const countryInfo of countryInfos) {
-    const {position, elem, area} = countryInfo;
-    // large enough?
-    if (area &lt; large) {
+    const {position, elem, area, selected} = countryInfo;
+    const largeEnough = area &gt;= large;
+    const show = selected || (numCountriesSelected === 0 &amp;&amp; largeEnough);
+    if (!show) {
      elem.style.display = 'none';
      continue;
    }

    ...
</pre>
<p>ã“ã‚Œã§å›½ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<p></p><div translate="no" class="threejs_example_container notranslate">
  <div><iframe class="threejs_example notranslate" translate="no" style=" " src="/threejs/resources/editor.html?url=/threejs/lessons/..%2Fthreejs-indexed-textures-picking.html"></iframe></div>
  <a class="threejs_center" href="/threejs/lessons/../threejs-indexed-textures-picking.html" target="_blank">ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦åˆ¥ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ãã¾ã™</a>
</div>

<p></p>
<p>åœ°åŸŸã«åŸºã¥ã„ã¦å›½ã‚’è¡¨ç¤ºã—ã¾ã™ãŒã€1ã¤ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨1ã¤ã ã‘ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
<p>å›½ã‚’é¸æŠã™ã‚‹åˆç†çš„ãªè§£æ±ºç­–ã®ã‚ˆã†ã«æ€ãˆã¾ã™ãŒã€é¸æŠã•ã‚ŒãŸå›½ã‚’å¼·èª¿è¡¨ç¤ºã™ã‚‹ã«ã¯ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<p><em>ãƒ‘ãƒ¬ãƒƒãƒˆã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹</em> ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¾—ã‚‹äº‹ãŒã§ãã¾ã™ã€‚</p>
<p><a href="https://en.wikipedia.org/wiki/Palette_%28computing%29">ãƒ‘ãƒ¬ãƒƒãƒˆã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹</a>ã‚„<a href="https://en.wikipedia.org/wiki/Indexed_color">ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚«ãƒ©ãƒ¼</a>ã¯Atari 800ã€Amigaã€ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã€IBMã®å¤ã„PCãªã©ã®å¤ã„ã‚·ã‚¹ãƒ†ãƒ ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã—ãŸã€‚
ãƒ“ãƒƒãƒˆãƒãƒƒãƒ—ã‚’RGBã‚«ãƒ©ãƒ¼8ãƒ“ãƒƒãƒˆã€1ãƒ”ã‚¯ã‚»ãƒ«24ãƒã‚¤ãƒˆä»¥ä¸Šã§æ ¼ç´ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ“ãƒƒãƒˆãƒãƒƒãƒ—ã‚’8ãƒ“ãƒƒãƒˆä»¥ä¸‹ã®å€¤ã§æ ¼ç´ã—ã¦ã„ã¾ã—ãŸã€‚
å„ãƒ”ã‚¯ã‚»ãƒ«ã®å€¤ã¯ãƒ‘ãƒ¬ãƒƒãƒˆã¸ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§ã™ã€‚
ãã®ãŸã‚ä¾‹ãˆã°ç”»åƒå†…ã®å€¤ãŒ3ã§ã‚ã‚Œã° "color 3ã‚’è¡¨ç¤ºã™ã‚‹" ã¨ã„ã†äº‹ã«ãªã‚Šã¾ã™ã€‚
color 3ãŒä½•è‰²ã‹ã¯ "ãƒ‘ãƒ¬ãƒƒãƒˆ" ã¨å‘¼ã°ã‚Œã‚‹åˆ¥ã®å ´æ‰€ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<p>JavaScriptã§ã¯æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ã§ãã¾ã™ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">const face7x7PixelImageData = [
  0, 1, 1, 1, 1, 1, 0,
  1, 0, 0, 0, 0, 0, 1, 
  1, 0, 2, 0, 2, 0, 1,
  1, 0, 0, 0, 0, 0, 1,
  1, 0, 3, 3, 3, 0, 1,
  1, 0, 0, 0, 0, 0, 1,
  0, 1, 1, 1, 1, 1, 1,
];

const palette = [
  [255, 255, 255],  // white
  [  0,   0,   0],  // black
  [  0, 255, 255],  // cyan
  [255,   0,   0],  // red
];
</pre>
<p>ç”»åƒãƒ‡ãƒ¼ã‚¿ã®å„ãƒ”ã‚¯ã‚»ãƒ«ãŒãƒ‘ãƒ¬ãƒƒãƒˆã¸ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ãªã‚Šã¾ã™ã€‚
ä¸Šè¨˜ã®ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ä½¿ã„ã€ç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’è§£é‡ˆã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ãªç”»åƒãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</p>
<div class="threejs_center"><img src="../resources/images/7x7-indexed-face.png"></div>

<p>ã“ã®å ´åˆã€ä¸Šè¨˜ã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã¯å›½ã”ã¨ã«ç•°ãªã‚‹IDã‚’æŒã£ã¦ã„ã¾ã™ã€‚
ãã“ã§ãƒ‘ãƒ¬ãƒƒãƒˆã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’é€šã—ã¦åŒã˜ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ä½¿ã„ã€ãã‚Œãã‚Œã®å›½ã®ã‚«ãƒ©ãƒ¼ã‚’å‡ºã›ã°è‰¯ã„ã®ã§ã™ã€‚
ãƒ‘ãƒ¬ãƒƒãƒˆã®è³ªæ„Ÿã‚’å¤‰ãˆã‚‹äº‹ã§ãã‚Œãã‚Œã®å›½ã‚’å½©ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
ä¾‹ãˆã°ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£å…¨ä½“ã‚’é»’ã«è¨­å®šã—ã€ãƒ‘ãƒ¬ãƒƒãƒˆå†…ã®ã‚ã‚‹å›½ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’åˆ¥ã®ã‚«ãƒ©ãƒ¼ã«ã™ã‚‹ã¨ãã®å›½ã ã‘ã‚’å¼·èª¿è¡¨ç¤ºã§ãã¾ã™ã€‚</p>
<p>ãƒ‘ãƒ¬ãƒƒãƒˆåŒ–ã•ã‚ŒãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è¡Œã†ã«ã¯ã‚«ã‚¹ã‚¿ãƒ ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚
three.jsã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ãã†ã™ã‚Œã°ã€å¿…è¦ã«å¿œã˜ã¦ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ãªã©ã®æ©Ÿèƒ½ã‚‚ä½¿ãˆã¾ã™ã€‚</p>
<p><a href="threejs-optimize-lots-of-objects-animated.html">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹å¤šãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æœ€é©åŒ–ã®è¨˜äº‹</a>ã§è§£èª¬ã—ãŸã‚ˆã†ã«ã€
ãƒãƒ†ãƒªã‚¢ãƒ«ã® <code class="notranslate" translate="no">onBeforeCompile</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«é–¢æ•°ã‚’è¿½åŠ ã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚</p>
<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-glsl" translate="no">#include &lt;common&gt;
#include &lt;color_pars_fragment&gt;
#include &lt;uv_pars_fragment&gt;
#include &lt;uv2_pars_fragment&gt;
#include &lt;map_pars_fragment&gt;
#include &lt;alphamap_pars_fragment&gt;
#include &lt;aomap_pars_fragment&gt;
#include &lt;lightmap_pars_fragment&gt;
#include &lt;envmap_pars_fragment&gt;
#include &lt;fog_pars_fragment&gt;
#include &lt;specularmap_pars_fragment&gt;
#include &lt;logdepthbuf_pars_fragment&gt;
#include &lt;clipping_planes_pars_fragment&gt;
void main() {
    #include &lt;clipping_planes_fragment&gt;
    vec4 diffuseColor = vec4( diffuse, opacity );
    #include &lt;logdepthbuf_fragment&gt;
    #include &lt;map_fragment&gt;
    #include &lt;color_fragment&gt;
    #include &lt;alphamap_fragment&gt;
    #include &lt;alphatest_fragment&gt;
    #include &lt;specularmap_fragment&gt;
    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
    #ifdef USE_LIGHTMAP
        reflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;
    #else
        reflectedLight.indirectDiffuse += vec3( 1.0 );
    #endif
    #include &lt;aomap_fragment&gt;
    reflectedLight.indirectDiffuse *= diffuseColor.rgb;
    vec3 outgoingLight = reflectedLight.indirectDiffuse;
    #include &lt;envmap_fragment&gt;
    gl_FragColor = vec4( outgoingLight, diffuseColor.a );
    #include &lt;premultiplied_alpha_fragment&gt;
    #include &lt;tonemapping_fragment&gt;
    #include &lt;encodings_fragment&gt;
    #include &lt;fog_fragment&gt;
}
</pre>
<p><a href="https://github.com/mrdoob/three.js/tree/dev/src/renderers/shaders/ShaderChunk">ã“ã‚Œã‚‰ã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’å…¨ã¦èª¿ã¹ã¦ã¿ã‚‹</a>ã¨three.jsã¯ãƒ™ãƒ¼ã‚¹ãƒãƒ†ãƒªã‚¢ãƒ«ã®ã‚«ãƒ©ãƒ¼ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã« <code class="notranslate" translate="no">diffuseColor</code> ã¨ã„ã†å¤‰æ•°ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã‚Œã¯ <code class="notranslate" translate="no">&lt;color_fragment&gt;</code> <a href="https://github.com/mrdoob/three.js/blob/dev/src/renderers/shaders/ShaderChunk/color_fragment.glsl.js">ã‚¹ãƒ‹ãƒšãƒƒãƒˆ</a> ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã®ã§ä¿®æ­£ã§ãã‚‹ã¯ãšã§ã™ã€‚</p>
<p>ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã§ <code class="notranslate" translate="no">diffuseColor</code> ã¯æ—¢ã«ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ã‚«ãƒ©ãƒ¼ã«ãªã£ã¦ã„ã‚‹ã¯ãšãªã®ã§ã€ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£ã‹ã‚‰ã‚«ãƒ©ãƒ¼ã‚’æ¢ã—ã¦æœ€çµ‚çš„ãªçµæœã«ãã‚Œã‚‰ã‚’ãƒŸãƒƒã‚¯ã‚¹ã—ã¾ã™ã€‚</p>
<p><a href="threejs-optimize-lots-of-objects-animated.html">å‰ã«ã‚„ã£ãŸ</a>ã‚ˆã†ã«æ¤œç´¢æ–‡å­—åˆ—ã¨ç½®æ›æ–‡å­—åˆ—ã®é…åˆ—ã‚’ä½œã‚Šã€<a href="https://threejs.org/docs/#api/en/materials/Material.onBeforeCompile"><code class="notranslate" translate="no">Material.onBeforeCompile</code></a> ã§ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«é©ç”¨ã—ã¾ã™ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">{
  const loader = new THREE.TextureLoader();
  const geometry = new THREE.SphereBufferGeometry(1, 64, 32);

  const indexTexture = loader.load('resources/data/world/country-index-texture.png', render);
  indexTexture.minFilter = THREE.NearestFilter;
  indexTexture.magFilter = THREE.NearestFilter;

  const pickingMaterial = new THREE.MeshBasicMaterial({map: indexTexture});
  pickingScene.add(new THREE.Mesh(geometry, pickingMaterial));

+  const fragmentShaderReplacements = [
+    {
+      from: '#include &lt;common&gt;',
+      to: `
+        #include &lt;common&gt;
+        uniform sampler2D indexTexture;
+        uniform sampler2D paletteTexture;
+        uniform float paletteTextureWidth;
+      `,
+    },
+    {
+      from: '#include &lt;color_fragment&gt;',
+      to: `
+        #include &lt;color_fragment&gt;
+        {
+          vec4 indexColor = texture2D(indexTexture, vUv);
+          float index = indexColor.r * 255.0 + indexColor.g * 255.0 * 256.0;
+          vec2 paletteUV = vec2((index + 0.5) / paletteTextureWidth, 0.5);
+          vec4 paletteColor = texture2D(paletteTexture, paletteUV);
+          // diffuseColor.rgb += paletteColor.rgb;   // white outlines
+          diffuseColor.rgb = paletteColor.rgb - diffuseColor.rgb;  // black outlines
+        }
+      `,
+    },
+  ];

  const texture = loader.load('resources/data/world/country-outlines-4k.png', render);
  const material = new THREE.MeshBasicMaterial({map: texture});
+  material.onBeforeCompile = function(shader) {
+    fragmentShaderReplacements.forEach((rep) =&gt; {
+      shader.fragmentShader = shader.fragmentShader.replace(rep.from, rep.to);
+    });
+  };
  scene.add(new THREE.Mesh(geometry, material));
}
</pre>
<p>ä¸Šè¨˜ã®ã‚ˆã†ã« <code class="notranslate" translate="no">indexTexture</code>ã€<code class="notranslate" translate="no">paletteTexture</code>ã€<code class="notranslate" translate="no">paletteTextureWidth</code> ã®3ã¤ã®ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¿½åŠ ã—ã¾ã™ã€‚
<code class="notranslate" translate="no">indexTexture</code> ã‹ã‚‰ã‚«ãƒ©ãƒ¼ã‚’å–å¾—ã—ã¦ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«å¤‰æ›ã—ã¾ã™ã€‚
<code class="notranslate" translate="no">vUv</code> ã¯three.jsã§æä¾›ã•ã‚Œã¦ã„ã‚‹ãƒ†ã‚¯ã‚¹ãƒãƒ£åº§æ¨™ã§ã™ã€‚
ãã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ã„ã€ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£ã‹ã‚‰ã‚«ãƒ©ãƒ¼ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚
ãã®çµæœã‚’ç¾åœ¨ã® <code class="notranslate" translate="no">diffuseColor</code> ã¨ãƒŸãƒƒã‚¯ã‚¹ã—ã¾ã™ã€‚
<code class="notranslate" translate="no">diffuseColor</code> ã¯é»’ã¨ç™½ã®ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ãƒ†ã‚¯ã‚¹ãƒãƒ£ãªã®ã§ã€2è‰²ã‚’åŠ ãˆã‚‹ã¨ç™½ã®ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã«ãªã‚Šã¾ã™ã€‚
ç¾åœ¨ã®æ‹¡æ•£è‰²ï¼ˆãƒ‡ã‚£ãƒ•ãƒ¥ãƒ¼ã‚ºã‚«ãƒ©ãƒ¼ï¼‰ã‚’å¼•ãã¨é»’ã„ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã«ãªã‚Šã¾ã™ã€‚</p>
<p>ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å‰ã«ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£ã¨3ã¤ã®ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£ã¯ã€å›½ã”ã¨ã«1è‰² + æµ·ã®ãŸã‚ã®1è‰²ã‚’ä¿æŒã™ã‚‹ã®ã«ååˆ†ãªå¹…ãŒå¿…è¦ã§ã™(id = 0)ã€‚
240ã®å›½ãŒã‚ã‚Šã¾ã™ã€‚
å›½ã®ãƒªã‚¹ãƒˆãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã¾ã§å¾…ã¡ã€æ­£ç¢ºãªæ•°å­—ã‚’å¾—ã‚‹ã‹ã€ãã‚Œã‚’èª¿ã¹ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
å°‘ã—å¤§ãã‚ã®æ•°å­—ã‚’é¸ã‚“ã§ã‚‚ã€ã‚ã¾ã‚Šå®³ã¯ãªã„ã®ã§512ã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚</p>
<p>ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ä½œæˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">const maxNumCountries = 512;
const paletteTextureWidth = maxNumCountries;
const paletteTextureHeight = 1;
const palette = new Uint8Array(paletteTextureWidth * 3);
const paletteTexture = new THREE.DataTexture(
    palette, paletteTextureWidth, paletteTextureHeight, THREE.RGBFormat);
paletteTexture.minFilter = THREE.NearestFilter;
paletteTexture.magFilter = THREE.NearestFilter;
</pre>
<p><a href="https://threejs.org/docs/#api/en/textures/DataTexture"><code class="notranslate" translate="no">DataTexture</code></a> ã¯ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’ä¸ãˆã‚‹äº‹ãŒã§ãã¾ã™ã€‚
ä»Šå›ã¯ã¯512ã®RGBã‚«ãƒ©ãƒ¼ã‚’3ãƒã‚¤ãƒˆãšã¤ä¸ãˆã€ãã‚Œãã‚Œã®ãƒã‚¤ãƒˆãŒèµ¤ã€ç·‘ã€é’ã§0ã€œ255ã®å€¤ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<p>ãƒ©ãƒ³ãƒ€ãƒ ãªã‚«ãƒ©ãƒ¼ã§å¡—ã‚Šã¤ã¶ã—ã¾ã—ã‚‡ã†ï¼</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">for (let i = 1; i &lt; palette.length; ++i) {
  palette[i] = Math.random() * 256;
}
// set the ocean color (index #0)
palette.set([100, 200, 255], 0);
paletteTexture.needsUpdate = true;
</pre>
<p>ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ <code class="notranslate" translate="no">palette</code> é…åˆ—ã®å†…å®¹ã§æ›´æ–°ã—ãŸã„æ™‚ã¯ã€å¸¸ã«  <code class="notranslate" translate="no">paletteTexture.needsUpdate</code> ã‚’ <code class="notranslate" translate="no">true</code> ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p>ã“ã‚Œã¯ãƒãƒ†ãƒªã‚¢ãƒ«ã®ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">const geometry = new THREE.SphereBufferGeometry(1, 64, 32);
const material = new THREE.MeshBasicMaterial({map: texture});
material.onBeforeCompile = function(shader) {
  fragmentShaderReplacements.forEach((rep) =&gt; {
    shader.fragmentShader = shader.fragmentShader.replace(rep.from, rep.to);
  });
+  shader.uniforms.paletteTexture = {value: paletteTexture};
+  shader.uniforms.indexTexture = {value: indexTexture};
+  shader.uniforms.paletteTextureWidth = {value: paletteTextureWidth};
};
scene.add(new THREE.Mesh(geometry, material));
</pre>
<p>ãƒ©ãƒ³ãƒ€ãƒ ãªã‚«ãƒ©ãƒ¼ãŒã¤ã„ãŸå›½ã‚’æ‰‹ã«å…¥ã‚Œã‚‹äº‹ãŒã§ãã¾ã—ãŸã€‚</p>
<p></p><div translate="no" class="threejs_example_container notranslate">
  <div><iframe class="threejs_example notranslate" translate="no" style=" " src="/threejs/resources/editor.html?url=/threejs/lessons/..%2Fthreejs-indexed-textures-random-colors.html"></iframe></div>
  <a class="threejs_center" href="/threejs/lessons/../threejs-indexed-textures-random-colors.html" target="_blank">ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦åˆ¥ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ãã¾ã™</a>
</div>

<p></p>
<p>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ãƒ‘ãƒ¬ãƒƒãƒˆãƒ†ã‚¯ã‚¹ãƒãƒ£ã®å‹•ä½œãŒç¢ºèªã§ããŸã®ã§ã€ãƒ‘ãƒ¬ãƒƒãƒˆã‚’æ“ä½œã—ã¦ãƒã‚¤ãƒ©ã‚¤ãƒˆã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<p>ã¾ãšã€three.jsã‚¹ã‚¿ã‚¤ãƒ«ã‚«ãƒ©ãƒ¼ã‚’æ¸¡ã—ã¦ãƒ‘ãƒ¬ãƒƒãƒˆã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã«å…¥ã‚Œã‚‹å€¤ã‚’ä¸ãˆã‚‹é–¢æ•°ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">const tempColor = new THREE.Color();
function get255BasedColor(color) {
  tempColor.set(color);
  return tempColor.toArray().map(v =&gt; v * 255);
}
</pre>
<p>ã“ã®ã‚ˆã†ã« <code class="notranslate" translate="no">color = get255BasedColor('red')</code> ã‚’å‘¼ã³å‡ºã™ã¨ <code class="notranslate" translate="no">[255, 0, 0]</code> ã®ã‚ˆã†ãªé…åˆ—ãŒè¿”ã•ã‚Œã¾ã™ã€‚</p>
<p>æ¬¡ã¯ãã‚Œã‚’ä½¿ã£ã¦ã€ã„ãã¤ã‹ã®ã‚«ãƒ©ãƒ¼ã‚’ä½œã£ã¦ãƒ‘ãƒ¬ãƒƒãƒˆã‚’åŸ‹ã‚ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">const selectedColor = get255BasedColor('red');
const unselectedColor = get255BasedColor('#444');
const oceanColor = get255BasedColor('rgb(100,200,255)');
resetPalette();

function setPaletteColor(index, color) {
  palette.set(color, index * 3);
}

function resetPalette() {
  // make all colors the unselected color
  for (let i = 1; i &lt; maxNumCountries; ++i) {
    setPaletteColor(i, unselectedColor);
  }

  // set the ocean color (index #0)
  setPaletteColor(0, oceanColor);
  paletteTexture.needsUpdate = true;
}
</pre>
<p>ã“ã‚Œã‚‰ã®é–¢æ•°ã‚’ä½¿ã„ã€å›½ãŒé¸æŠã•ã‚ŒãŸæ™‚ã«ãƒ‘ãƒ¬ãƒƒãƒˆã‚’æ›´æ–°ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">function getCanvasRelativePosition(event) {
  const rect = canvas.getBoundingClientRect();
  return {
    x: (event.clientX - rect.left) * canvas.width  / rect.width,
    y: (event.clientY - rect.top ) * canvas.height / rect.height,
  };
}

function pickCountry(event) {
  // exit if we have not loaded the data yet
  if (!countryInfos) {
    return;
  }

  const position = getCanvasRelativePosition(event);
  const id = pickHelper.pick(position, pickingScene, camera);
  if (id &gt; 0) {
    const countryInfo = countryInfos[id - 1];
    const selected = !countryInfo.selected;
    if (selected &amp;&amp; !event.shiftKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.metaKey) {
      unselectAllCountries();
    }
    numCountriesSelected += selected ? 1 : -1;
    countryInfo.selected = selected;
+    setPaletteColor(id, selected ? selectedColor : unselectedColor);
+    paletteTexture.needsUpdate = true;
  } else if (numCountriesSelected) {
    unselectAllCountries();
  }
  requestRenderIfNotRequested();
}

function unselectAllCountries() {
  numCountriesSelected = 0;
  countryInfos.forEach((countryInfo) =&gt; {
    countryInfo.selected = false;
  });
+  resetPalette();
}
</pre>
<p>1ã¤ä»¥ä¸Šã®å›½ã‚’å¼·èª¿ã™ã‚‹äº‹ãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<p></p><div translate="no" class="threejs_example_container notranslate">
  <div><iframe class="threejs_example notranslate" translate="no" style=" " src="/threejs/resources/editor.html?url=/threejs/lessons/..%2Fthreejs-indexed-textures-picking-and-highlighting.html"></iframe></div>
  <a class="threejs_center" href="/threejs/lessons/../threejs-indexed-textures-picking-and-highlighting.html" target="_blank">ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦åˆ¥ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ãã¾ã™</a>
</div>

<p></p>
<p>ã“ã‚Œã§å‹•ä½œã—ã¾ã—ãŸï¼</p>
<p>ã¡ã‚‡ã£ã¨ã—ãŸäº‹ã§ã™ãŒã€é¸æŠçŠ¶æ…‹ã‚’å¤‰ãˆãªã„ã¨åœ°çƒå„€ã‚’å›ã›ãªã„ã§ã™ã€‚
å›½ã‚’é¸æŠã—ã¦ã‹ã‚‰åœ°çƒå„€ã‚’å›è»¢ã•ã›ã‚‹ã¨é¸æŠç¯„å›²ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚</p>
<p>ä¿®æ­£ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
æ€ã„ã¤ãé™ã‚Šã§ã¯2ã¤ã®äº‹ãŒç¢ºèªã§ãã¾ã™ã€‚
ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‹ã‚‰æ‰‹æ”¾ã™ã¾ã§ã«ã©ã‚Œã ã‘ã®æ™‚é–“ãŒçµŒéã—ãŸã‹ã€‚
ã‚‚ã†1ã¤ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿéš›ã«ãƒã‚¦ã‚¹ã‚’å‹•ã‹ã—ãŸã‹ã©ã†ã‹ã§ã™ã€‚
æ™‚é–“ãŒçŸ­ã‹ã£ãŸã‚Šã€ãƒã‚¦ã‚¹ã‚’å‹•ã‹ã•ãªã‹ã£ãŸå ´åˆã¯ã‚¯ãƒªãƒƒã‚¯ã ã£ãŸã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚
ãã†ã§ãªã‘ã‚Œã°ã€åœ°çƒã‚’å¼•ã£å¼µã£ã¦ã„ã“ã†ã¨ã—ã¦ã„ãŸã®ã§ã—ã‚‡ã†ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">+const maxClickTimeMs = 200;
+const maxMoveDeltaSq = 5 * 5;
+const startPosition = {};
+let startTimeMs;
+
+function recordStartTimeAndPosition(event) {
+  startTimeMs = performance.now();
+  const pos = getCanvasRelativePosition(event);
+  startPosition.x = pos.x;
+  startPosition.y = pos.y;
+}

function getCanvasRelativePosition(event) {
  const rect = canvas.getBoundingClientRect();
  return {
    x: (event.clientX - rect.left) * canvas.width  / rect.width,
    y: (event.clientY - rect.top ) * canvas.height / rect.height,
  };
}

function pickCountry(event) {
  // exit if we have not loaded the data yet
  if (!countryInfos) {
    return;
  }

+  // if it's been a moment since the user started
+  // then assume it was a drag action, not a select action
+  const clickTimeMs = performance.now() - startTimeMs;
+  if (clickTimeMs &gt; maxClickTimeMs) {
+    return;
+  }
+
+  // if they moved assume it was a drag action
+  const position = getCanvasRelativePosition(event);
+  const moveDeltaSq = (startPosition.x - position.x) ** 2 +
+                      (startPosition.y - position.y) ** 2;
+  if (moveDeltaSq &gt; maxMoveDeltaSq) {
+    return;
+  }

-  const position = {x: event.clientX, y: event.clientY};
  const id = pickHelper.pick(position, pickingScene, camera);
  if (id &gt; 0) {
    const countryInfo = countryInfos[id - 1];
    const selected = !countryInfo.selected;
    if (selected &amp;&amp; !event.shiftKey &amp;&amp; !event.ctrlKey &amp;&amp; !event.metaKey) {
      unselectAllCountries();
    }
    numCountriesSelected += selected ? 1 : -1;
    countryInfo.selected = selected;
    setPaletteColor(id, selected ? selectedColor : unselectedColor);
    paletteTexture.needsUpdate = true;
  } else if (numCountriesSelected) {
    unselectAllCountries();
  }
  requestRenderIfNotRequested();
}

function unselectAllCountries() {
  numCountriesSelected = 0;
  countryInfos.forEach((countryInfo) =&gt; {
    countryInfo.selected = false;
  });
  resetPalette();
}

+canvas.addEventListener('mousedown', recordStartTimeAndPosition);
canvas.addEventListener('mouseup', pickCountry);

let lastTouch;
canvas.addEventListener('touchstart', (event) =&gt; {
  // prevent the window from scrolling
  event.preventDefault();
  lastTouch = event.touches[0];
+  recordStartTimeAndPosition(event.touches[0]);
}, {passive: false});
canvas.addEventListener('touchmove', (event) =&gt; {
  lastTouch = event.touches[0];
});
</pre>
<p>ã“ã‚Œã‚‰ã®å¤‰æ›´ã‚’åŠ ãˆã‚‹ã¨ç§ã«ã¯ãã‚ŒãŒæ©Ÿèƒ½ã—ã¦ã„ã‚‹ã‚ˆã†ã«<em>è¦‹ãˆã¾ã™</em>ã€‚</p>
<p></p><div translate="no" class="threejs_example_container notranslate">
  <div><iframe class="threejs_example notranslate" translate="no" style=" " src="/threejs/resources/editor.html?url=/threejs/lessons/..%2Fthreejs-indexed-textures-picking-debounced.html"></iframe></div>
  <a class="threejs_center" href="/threejs/lessons/../threejs-indexed-textures-picking-debounced.html" target="_blank">ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦åˆ¥ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ãã¾ã™</a>
</div>

<p></p>
<p>ç§ã¯UXã®å°‚é–€å®¶ã§ã¯ãªã„ã®ã§ã€ã‚‚ã£ã¨è‰¯ã„è§£æ±ºç­–ãŒã‚ã‚Œã°æ•™ãˆã¦ä¸‹ã•ã„ã€‚</p>
<p>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒã©ã®ã‚ˆã†ã«å½¹ç«‹ã¤ã®ã‹ã€ã¾ãŸã€three.jsãŒä½œã‚‹ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚’å¤‰æ›´ã—ã¦ã‚·ãƒ³ãƒ—ãƒ«ãªæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ãŒå°‘ã—ã§ã‚‚ç†è§£ã—ã¦ã‚‚ã‚‰ãˆãŸã¨æ€ã„ã¾ã™ã€‚
ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹è¨€èªã®GLSLã®ä½¿ã„æ–¹ã¯ã€ã“ã®è¨˜äº‹ã§æ‰±ã†ã«ã¯å†…å®¹ãŒå¤§ãã™ãã¾ã™ã€‚
<a href="threejs-post-processing.html">ãƒã‚¹ãƒˆãƒ—ãƒ­ã‚»ã‚¹ã®è¨˜äº‹</a>ã«GLSLã®ãƒªãƒ³ã‚¯ãŒã‚ã‚‹ã®ã§ç¢ºèªã—ã¦ã¿ã¦ä¸‹ã•ã„ã€‚</p>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/threejs/lessons/threejs-indexed-textures.html">English
    </option><option value="/threejs/lessons/fr/threejs-indexed-textures.html">FranÃ§ais
    </option><option value="/threejs/lessons/ja/threejs-indexed-textures.html" selected="">æ—¥æœ¬èª
    </option><option value="/threejs/lessons/kr/threejs-indexed-textures.html">í•œêµ­ì–´
    </option><option value="/threejs/lessons/ru/threejs-indexed-textures.html">Ğ ÑƒÑÑĞºĞ¸Ğ¹
    </option><option value="/threejs/lessons/zh_cn/threejs-indexed-textures.html">ä¸­æ–‡
</option></select>


        <div id="toc">
          <ul>  <li>åŸºæœ¬</li>
        <ul>
          <li><a href="/threejs/lessons/ja/threejs-fundamentals.html">åŸºç¤çŸ¥è­˜</a></li>
<li><a href="/threejs/lessons/ja/threejs-responsive.html">ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³</a></li>
<li><a href="/threejs/lessons/ja/threejs-prerequisites.html">å‰ææ¡ä»¶</a></li>
<li><a href="/threejs/lessons/ja/threejs-setup.html">ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</a></li>
        </ul>
  <li>åŸºç¤</li>
        <ul>
          <li><a href="/threejs/lessons/ja/threejs-primitives.html">ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–</a></li>
<li><a href="/threejs/lessons/ja/threejs-scenegraph.html">ã‚·ãƒ¼ãƒ³ã‚°ãƒ©ãƒ•</a></li>
<li><a href="/threejs/lessons/ja/threejs-materials.html">ãƒãƒ†ãƒªã‚¢ãƒ«</a></li>
<li><a href="/threejs/lessons/ja/threejs-textures.html">ãƒ†ã‚¯ã‚¹ãƒãƒ£</a></li>
<li><a href="/threejs/lessons/ja/threejs-lights.html">ãƒ©ã‚¤ãƒˆ</a></li>
<li><a href="/threejs/lessons/ja/threejs-cameras.html">ã‚«ãƒ¡ãƒ©</a></li>
<li><a href="/threejs/lessons/ja/threejs-shadows.html">ã‚·ãƒ£ãƒ‰ã‚¦</a></li>
<li><a href="/threejs/lessons/ja/threejs-fog.html">ãƒ•ã‚©ã‚°</a></li>
<li><a href="/threejs/lessons/ja/threejs-rendertargets.html">ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</a></li>
<li><a href="/threejs/lessons/ja/threejs-custom-geometry.html">ã‚«ã‚¹ã‚¿ãƒ ã‚¸ã‚ªãƒ¡ãƒˆãƒª</a></li>
<li><a href="/threejs/lessons/ja/threejs-custom-buffergeometry.html">ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒ•ã‚¡ã‚¸ã‚ªãƒ¡ãƒˆãƒª</a></li>
        </ul>
  <li>Tips</li>
        <ul>
          <li><a href="/threejs/lessons/ja/threejs-rendering-on-demand.html">è¦æ±‚ã•ã‚ŒãŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</a></li>
<li><a href="/threejs/lessons/ja/threejs-debugging-javascript.html">JavaScriptã®ãƒ‡ãƒãƒƒã‚°</a></li>
<li><a href="/threejs/lessons/ja/threejs-debugging-glsl.html">GLSLã®ãƒ‡ãƒãƒƒã‚°</a></li>
<li><a href="/threejs/lessons/ja/threejs-tips.html#screenshot">ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ’®ã‚‹</a></li>
<li><a href="/threejs/lessons/ja/threejs-tips.html#preservedrawingbuffer">ã‚­ãƒ£ãƒ³ãƒã‚¹ãŒã‚¯ãƒªã‚¢ã•ã‚Œã‚‹ã®ã‚’é˜²ã</a></li>
<li><a href="/threejs/lessons/ja/threejs-tips.html#tabindex">ã‚­ãƒ£ãƒ³ãƒã‚¹ã‹ã‚‰ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã‚’å–å¾—ã™ã‚‹</a></li>
<li><a href="/threejs/lessons/ja/threejs-tips.html#transparent-canvas">ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’é€æ˜ã«ã™ã‚‹</a></li>
<li><a href="/threejs/lessons/ja/threejs-tips.html#html-background">HTMLã®èƒŒæ™¯ã«three.jsã‚’ä½¿ã†</a></li>
        </ul>
  <li>æœ€é©åŒ–</li>
        <ul>
          <li><a href="/threejs/lessons/ja/threejs-optimize-lots-of-objects.html">å¤šãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æœ€é©åŒ–</a></li>
<li><a href="/threejs/lessons/ja/threejs-optimize-lots-of-objects-animated.html">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹å¤šãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æœ€é©åŒ–</a></li>
<li><a href="/threejs/lessons/ja/threejs-offscreencanvas.html">Web Workerã§OffscreenCanvasã‚’ä½¿ç”¨ã™ã‚‹</a></li>
        </ul>
  <li>è§£æ±ºç­–</li>
        <ul>
          <li><a href="/threejs/lessons/ja/threejs-load-obj.html">OBJãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</a></li>
<li><a href="/threejs/lessons/ja/threejs-load-gltf.html">GLTFãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿</a></li>
<li><a href="/threejs/lessons/ja/threejs-backgrounds.html">èƒŒæ™¯ã‚„ã‚¹ã‚«ã‚¤ãƒœãƒƒã‚¯ã‚¹ã‚’è¿½åŠ ã™ã‚‹</a></li>
<li><a href="/threejs/lessons/ja/threejs-transparency.html">é€æ˜ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æç”»æ–¹æ³•</a></li>
<li><a href="/threejs/lessons/ja/threejs-multiple-scenes.html">è¤‡æ•°ã‚­ãƒ£ãƒ³ãƒã‚¹ã¨è¤‡æ•°ã‚·ãƒ¼ãƒ³</a></li>
<li><a href="/threejs/lessons/ja/threejs-picking.html">ãƒã‚¦ã‚¹ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ”ãƒƒã‚­ãƒ³ã‚°</a></li>
<li><a href="/threejs/lessons/ja/threejs-post-processing.html">ãƒã‚¹ãƒˆãƒ—ãƒ­ã‚»ã‚¹</a></li>
<li><a href="/threejs/lessons/ja/threejs-post-processing-3dlut.html">ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã«LUTãƒ•ã‚¡ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹</a></li>
<li><a href="/threejs/lessons/ja/threejs-shadertoy.html">Shadertoyã®ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚’ä½¿ã†</a></li>
<li><a href="/threejs/lessons/ja/threejs-align-html-elements-to-3d.html">HTMLè¦ç´ ã‚’3Dã«æƒãˆã‚‹</a></li>
<li><a href="/threejs/lessons/ja/threejs-indexed-textures.html">åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼</a></li>
<li><a href="/threejs/lessons/ja/threejs-canvas-textures.html">å‹•çš„ãªãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ä½¿ç”¨ã™ã‚‹</a></li>
<li><a href="/threejs/lessons/ja/threejs-billboards.html">Billboards and Facades</a></li>
<li><a href="/threejs/lessons/ja/threejs-cleanup.html">Freeing Resources</a></li>
<li><a href="/threejs/lessons/ja/threejs-voxel-geometry.html">Making Voxel Geometry (Minecraft)</a></li>
<li><a href="/threejs/lessons/ja/threejs-game.html">Start making a Game.</a></li>
        </ul>
  <li>WebVR</li>
        <ul>
          <li><a href="/threejs/lessons/ja/threejs-webvr.html">VR - Basics</a></li>
<li><a href="/threejs/lessons/ja/threejs-webvr-look-to-select.html">VR - Look To Select</a></li>
<li><a href="/threejs/lessons/ja/threejs-webvr-point-to-select.html">VR - Point To Select</a></li>
        </ul>
  <li>å‚ç…§</li>
        <ul>
          <li><a href="/threejs/lessons/ja/threejs-material-table.html">Material Table</a></li>
        </ul></ul>
<ul>
  <li><a href="https://github.com/gfxfundamentals/threejsfundamentals">github</a></li>
  <li><a href="https://threejs.org">three.js</a></li>
  <li><a href="https://threejs.org/docs/">three.jsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
</ul>

        </div>
    </div>
    <div class="lesson-comments">
        <div>è³ªå•ã¯ã‚ã‚Šã¾ã™ã‹? <a href="http://stackoverflow.com/questions/tagged/three.js">ä½•ã‹ã‚ã‚Œã°stackoverflowã§å°‹ã­ã¦ä¸‹ã•ã„</a>.</div>
        <div>Issue/Bug? <a href="http://github.com/greggman/threefundamentals/issues">ã¾ãŸã¯githubã§issueã‚’ä½œã£ã¦ä¸‹ã•ã„</a>.</div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'threejsfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼';
            var disqus_title = 'åœ§ç¸®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®ãƒ”ãƒƒã‚­ãƒ³ã‚°ã¨ã‚«ãƒ©ãƒ¼';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("threejsfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>

<script>
const settings = {
  contribTemplate: "Thank you <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>for <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} contributions</a>",
  owner: "gfxfundamentals",
  repo: "threejsfundamentals",
};
</script>
<script src="/contributors.js"></script>
<script src="/3rdparty/jquery-3.3.1.slim.min.js"></script>
<script src="/threejs/lessons/resources/prettify.js"></script>
<script src="/threejs/lessons/resources/lesson.js"></script>
<script>
(function() {
  if (window.location.hostname.indexOf("threejsfundamentals.org") < 0) {
      return;
  }

  function addScript(src, fn) {
    const script = document.createElement('script');
    const firstScript = document.getElementsByTagName('script')[0];
    script.async = true;
    script.defer = true;
    if (fn) {
      script.addEventListener('load', fn);
    }
    script.src = src;
    firstScript.parentNode.insertBefore(script, firstScript);
  }

  addScript('//cdn.webglstats.com/stat.js');
  addScript('https://www.googletagmanager.com/gtag/js?id=UA-120733518-1', () => {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-120733518-1');
  });
}());
</script>






</body></html>